
from fastapi import APIRouter, Depends
from app.repositories.user_repo import UserRepository, get_user_repository

# Инициализация роутера
router = APIRouter(prefix="/users", tags=["users"])


@router.get("/balance/{user_id}")
async def get_user_balance(
    user_id: int, user_repo: UserRepository = Depends(get_user_repository)
):
    current_user = user_repo.get_user_by_id(user_id)
    print(current_user)
    return {"balance": current_user.credits}
